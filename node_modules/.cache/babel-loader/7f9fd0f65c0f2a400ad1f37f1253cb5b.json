{"ast":null,"code":"import _classCallCheck from\"/Users/mac/starlink/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/mac/starlink/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/mac/starlink/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/mac/starlink/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import axios from\"axios\";import{Spin}from\"antd\";import{feature}from\"topojson-client\";import{geoKavrayskiy7}from\"d3-geo-projection\";import{geoGraticule,geoPath}from\"d3-geo\";import{select as d3Select}from\"d3-selection\";import{schemeCategory10}from\"d3-scale-chromatic\";import*as d3Scale from\"d3-scale\";import{timeFormat as d3TimeFormat}from\"d3-time-format\";import{WORLD_MAP_URL,SATELLITE_POSITION_URL,SAT_API_KEY}from\"../constants\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var width=960;var height=600;var WorldMap=/*#__PURE__*/function(_Component){_inherits(WorldMap,_Component);var _super=_createSuper(WorldMap);function WorldMap(){var _this;_classCallCheck(this,WorldMap);_this=_super.call(this);_this.track=function(data){if(!data[0].hasOwnProperty(\"positions\")){throw new Error(\"no position data\");return;}var len=data[0].positions.length;var duration=_this.props.observerData.duration;var context2=_this.map.context2;var now=new Date();var i=0;var timer=setInterval(function(){var ct=new Date();var timePassed=i===0?0:ct-now;var time=new Date(now.getTime()+60*timePassed);context2.clearRect(0,0,width,height);context2.font=\"bold 14px sans-serif\";context2.fillStyle=\"#333\";context2.textAlign=\"center\";context2.fillText(d3TimeFormat(time),width/2,10);if(i>=len){clearInterval(timer);_this.setState({isDrawing:false});var oHint=document.getElementsByClassName(\"hint\")[0];oHint.innerHTML=\"\";return;}data.forEach(function(sat){var info=sat.info,positions=sat.positions;_this.drawSat(info,positions[i]);});i+=60;},1000);};_this.drawSat=function(sat,pos){var satlongitude=pos.satlongitude,satlatitude=pos.satlatitude;if(!satlongitude||!satlatitude)return;var satname=sat.satname;var nameWithNumber=satname.match(/\\d+/g).join(\"\");var _this$map=_this.map,projection=_this$map.projection,context2=_this$map.context2;var xy=projection([satlongitude,satlatitude]);context2.fillStyle=_this.color(nameWithNumber);context2.beginPath();context2.arc(xy[0],xy[1],4,0,2*Math.PI);context2.fill();context2.font=\"bold 11px sans-serif\";context2.textAlign=\"center\";context2.fillText(nameWithNumber,xy[0],xy[1]+14);};_this.generateMap=function(land){var projection=geoKavrayskiy7().scale(170).translate([width/2,height/2]).precision(0.1);var graticule=geoGraticule();var canvas=d3Select(_this.refMap.current).attr(\"width\",width).attr(\"height\",height);var canvas2=d3Select(_this.refTrack.current).attr(\"width\",width).attr(\"height\",height);var context=canvas.node().getContext(\"2d\");var context2=canvas2.node().getContext(\"2d\");var path=geoPath().projection(projection).context(context);land.forEach(function(ele){context.fillStyle=\"#B3DDEF\";context.strokeStyle=\"#000\";context.globalAlpha=0.7;context.beginPath();path(ele);context.fill();context.stroke();context.strokeStyle=\"rgba(220, 220, 220, 0.1)\";context.beginPath();path(graticule());context.lineWidth=0.1;context.stroke();context.beginPath();context.lineWidth=0.5;path(graticule.outline());context.stroke();});_this.map={projection:projection,graticule:graticule,context:context,context2:context2};};_this.state={isLoading:false,isDrawing:false};_this.map=null;_this.color=d3Scale.scaleOrdinal(schemeCategory10);_this.refMap=/*#__PURE__*/React.createRef();_this.refTrack=/*#__PURE__*/React.createRef();return _this;}_createClass(WorldMap,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(WORLD_MAP_URL).then(function(res){var data=res.data;var land=feature(data,data.objects.countries).features;_this2.generateMap(land);}).catch(function(e){console.log(\"err in fetch map data \",e.message);});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState,snapshot){var _this3=this;if(prevProps.satData!==this.props.satData){var _this$props$observerD=this.props.observerData,latitude=_this$props$observerD.latitude,longitude=_this$props$observerD.longitude,elevation=_this$props$observerD.elevation,altitude=_this$props$observerD.altitude,duration=_this$props$observerD.duration;var endTime=duration*60;this.setState({isLoading:true});var urls=this.props.satData.map(function(sat){var satid=sat.satid;var url=\"/api/\".concat(SATELLITE_POSITION_URL,\"/\").concat(satid,\"/\").concat(latitude,\"/\").concat(longitude,\"/\").concat(elevation,\"/\").concat(endTime,\"/&apiKey=\").concat(SAT_API_KEY);return axios.get(url);});Promise.all(urls).then(function(res){var arr=res.map(function(sat){return sat.data;});_this3.setState({isLoading:false,isDrawing:true});if(!prevState.isDrawing){_this3.track(arr);}else{var oHint=document.getElementsByClassName(\"hint\")[0];oHint.innerHTML=\"Please wait for these satellite animation to finish before selection new ones!\";}}).catch(function(e){console.log(\"err in fetch satellite position -> \",e.message);});}}},{key:\"render\",value:function render(){var isLoading=this.state.isLoading;return/*#__PURE__*/_jsxs(\"div\",{className:\"map-box\",children:[isLoading?/*#__PURE__*/_jsx(\"div\",{className:\"spinner\",children:/*#__PURE__*/_jsx(Spin,{tip:\"Loading...\",size:\"large\"})}):null,/*#__PURE__*/_jsx(\"canvas\",{className:\"map\",ref:this.refMap}),/*#__PURE__*/_jsx(\"canvas\",{className:\"track\",ref:this.refTrack}),/*#__PURE__*/_jsx(\"div\",{className:\"hint\"})]});}}]);return WorldMap;}(Component);export default WorldMap;","map":{"version":3,"names":["React","Component","axios","Spin","feature","geoKavrayskiy7","geoGraticule","geoPath","select","d3Select","schemeCategory10","d3Scale","timeFormat","d3TimeFormat","WORLD_MAP_URL","SATELLITE_POSITION_URL","SAT_API_KEY","width","height","WorldMap","track","data","hasOwnProperty","Error","len","positions","length","duration","props","observerData","context2","map","now","Date","i","timer","setInterval","ct","timePassed","time","getTime","clearRect","font","fillStyle","textAlign","fillText","clearInterval","setState","isDrawing","oHint","document","getElementsByClassName","innerHTML","forEach","sat","info","drawSat","pos","satlongitude","satlatitude","satname","nameWithNumber","match","join","projection","xy","color","beginPath","arc","Math","PI","fill","generateMap","land","scale","translate","precision","graticule","canvas","refMap","current","attr","canvas2","refTrack","context","node","getContext","path","ele","strokeStyle","globalAlpha","stroke","lineWidth","outline","state","isLoading","scaleOrdinal","createRef","get","then","res","objects","countries","features","catch","e","console","log","message","prevProps","prevState","snapshot","satData","latitude","longitude","elevation","altitude","endTime","urls","satid","url","Promise","all","arr"],"sources":["/Users/mac/starlink/src/components/WorldMap.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Spin } from \"antd\";\nimport { feature } from \"topojson-client\";\nimport { geoKavrayskiy7 } from \"d3-geo-projection\";\nimport { geoGraticule, geoPath } from \"d3-geo\";\nimport { select as d3Select } from \"d3-selection\";\nimport { schemeCategory10 } from \"d3-scale-chromatic\";\nimport * as d3Scale from \"d3-scale\";\nimport { timeFormat as d3TimeFormat } from \"d3-time-format\";\n\nimport {\n  WORLD_MAP_URL,\n  SATELLITE_POSITION_URL,\n  SAT_API_KEY\n} from \"../constants\";\n\nconst width = 960;\nconst height = 600;\n\nclass WorldMap extends Component {\n  constructor() {\n    super();\n    this.state = {\n      isLoading: false,\n      isDrawing: false\n    };\n    this.map = null;\n    this.color = d3Scale.scaleOrdinal(schemeCategory10);\n    this.refMap = React.createRef();\n    this.refTrack = React.createRef();\n  }\n\n  componentDidMount() {\n    axios\n      .get(WORLD_MAP_URL)\n      .then(res => {\n        const { data } = res;\n        const land = feature(data, data.objects.countries).features;\n        this.generateMap(land);\n      })\n      .catch(e => {\n        console.log(\"err in fetch map data \", e.message);\n      });\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (prevProps.satData !== this.props.satData) {\n      const {\n        latitude,\n        longitude,\n        elevation,\n        altitude,\n        duration\n      } = this.props.observerData;\n      const endTime = duration * 60;\n\n      this.setState({\n        isLoading: true\n      });\n\n      const urls = this.props.satData.map(sat => {\n        const { satid } = sat;\n        const url = `/api/${SATELLITE_POSITION_URL}/${satid}/${latitude}/${longitude}/${elevation}/${endTime}/&apiKey=${SAT_API_KEY}`;\n\n        return axios.get(url);\n      });\n\n      Promise.all(urls)\n        .then(res => {\n          const arr = res.map(sat => sat.data);\n          this.setState({\n            isLoading: false,\n            isDrawing: true\n          });\n\n          if (!prevState.isDrawing) {\n            this.track(arr);\n          } else {\n            const oHint = document.getElementsByClassName(\"hint\")[0];\n            oHint.innerHTML =\n              \"Please wait for these satellite animation to finish before selection new ones!\";\n          }\n        })\n        .catch(e => {\n          console.log(\"err in fetch satellite position -> \", e.message);\n        });\n    }\n  }\n  track = data => {\n    if (!data[0].hasOwnProperty(\"positions\")) {\n      throw new Error(\"no position data\");\n      return;\n    }\n\n    const len = data[0].positions.length;\n    const { duration } = this.props.observerData;\n    const { context2 } = this.map;\n\n    let now = new Date();\n\n    let i = 0;\n\n    let timer = setInterval(() => {\n      let ct = new Date();\n\n      let timePassed = i === 0 ? 0 : ct - now;\n      let time = new Date(now.getTime() + 60 * timePassed);\n\n      context2.clearRect(0, 0, width, height);\n\n      context2.font = \"bold 14px sans-serif\";\n      context2.fillStyle = \"#333\";\n      context2.textAlign = \"center\";\n      context2.fillText(d3TimeFormat(time), width / 2, 10);\n\n      if (i >= len) {\n        clearInterval(timer);\n        this.setState({ isDrawing: false });\n        const oHint = document.getElementsByClassName(\"hint\")[0];\n        oHint.innerHTML = \"\";\n        return;\n      }\n\n      data.forEach(sat => {\n        const { info, positions } = sat;\n        this.drawSat(info, positions[i]);\n      });\n\n      i += 60;\n    }, 1000);\n  };\n\n  drawSat = (sat, pos) => {\n    const { satlongitude, satlatitude } = pos;\n\n    if (!satlongitude || !satlatitude) return;\n\n    const { satname } = sat;\n    const nameWithNumber = satname.match(/\\d+/g).join(\"\");\n\n    const { projection, context2 } = this.map;\n    const xy = projection([satlongitude, satlatitude]);\n\n    context2.fillStyle = this.color(nameWithNumber);\n    context2.beginPath();\n    context2.arc(xy[0], xy[1], 4, 0, 2 * Math.PI);\n    context2.fill();\n\n    context2.font = \"bold 11px sans-serif\";\n    context2.textAlign = \"center\";\n    context2.fillText(nameWithNumber, xy[0], xy[1] + 14);\n  };\n\n  render() {\n    const { isLoading } = this.state;\n    return (\n      <div className=\"map-box\">\n        {isLoading ? (\n          <div className=\"spinner\">\n            <Spin tip=\"Loading...\" size=\"large\" />\n          </div>\n        ) : null}\n        <canvas className=\"map\" ref={this.refMap} />\n        <canvas className=\"track\" ref={this.refTrack} />\n        <div className=\"hint\" />\n      </div>\n    );\n  }\n\n  generateMap = land => {\n    const projection = geoKavrayskiy7()\n      .scale(170)\n      .translate([width / 2, height / 2])\n      .precision(0.1);\n\n    const graticule = geoGraticule();\n\n    const canvas = d3Select(this.refMap.current)\n      .attr(\"width\", width)\n      .attr(\"height\", height);\n\n    const canvas2 = d3Select(this.refTrack.current)\n      .attr(\"width\", width)\n      .attr(\"height\", height);\n\n    const context = canvas.node().getContext(\"2d\");\n    const context2 = canvas2.node().getContext(\"2d\");\n\n    let path = geoPath()\n      .projection(projection)\n      .context(context);\n\n    land.forEach(ele => {\n      context.fillStyle = \"#B3DDEF\";\n      context.strokeStyle = \"#000\";\n      context.globalAlpha = 0.7;\n      context.beginPath();\n      path(ele);\n      context.fill();\n      context.stroke();\n\n      context.strokeStyle = \"rgba(220, 220, 220, 0.1)\";\n      context.beginPath();\n      path(graticule());\n      context.lineWidth = 0.1;\n      context.stroke();\n\n      context.beginPath();\n      context.lineWidth = 0.5;\n      path(graticule.outline());\n      context.stroke();\n    });\n\n    this.map = {\n      projection: projection,\n      graticule: graticule,\n      context: context,\n      context2: context2\n    };\n  };\n}\n\nexport default WorldMap;\n"],"mappings":"oZAAA,MAAOA,MAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,MAArB,CACA,OAASC,OAAT,KAAwB,iBAAxB,CACA,OAASC,cAAT,KAA+B,mBAA/B,CACA,OAASC,YAAT,CAAuBC,OAAvB,KAAsC,QAAtC,CACA,OAASC,MAAM,GAAIC,SAAnB,KAAmC,cAAnC,CACA,OAASC,gBAAT,KAAiC,oBAAjC,CACA,MAAO,GAAKC,QAAZ,KAAyB,UAAzB,CACA,OAASC,UAAU,GAAIC,aAAvB,KAA2C,gBAA3C,CAEA,OACEC,aADF,CAEEC,sBAFF,CAGEC,WAHF,KAIO,cAJP,C,wFAMA,GAAMC,MAAK,CAAG,GAAd,CACA,GAAMC,OAAM,CAAG,GAAf,C,GAEMC,S,oGACJ,mBAAc,0CACZ,wBADY,MAoEdC,KApEc,CAoEN,SAAAC,IAAI,CAAI,CACd,GAAI,CAACA,IAAI,CAAC,CAAD,CAAJ,CAAQC,cAAR,CAAuB,WAAvB,CAAL,CAA0C,CACxC,KAAM,IAAIC,MAAJ,CAAU,kBAAV,CAAN,CACA,OACD,CAED,GAAMC,IAAG,CAAGH,IAAI,CAAC,CAAD,CAAJ,CAAQI,SAAR,CAAkBC,MAA9B,CACA,GAAQC,SAAR,CAAqB,MAAKC,KAAL,CAAWC,YAAhC,CAAQF,QAAR,CACA,GAAQG,SAAR,CAAqB,MAAKC,GAA1B,CAAQD,QAAR,CAEA,GAAIE,IAAG,CAAG,GAAIC,KAAJ,EAAV,CAEA,GAAIC,EAAC,CAAG,CAAR,CAEA,GAAIC,MAAK,CAAGC,WAAW,CAAC,UAAM,CAC5B,GAAIC,GAAE,CAAG,GAAIJ,KAAJ,EAAT,CAEA,GAAIK,WAAU,CAAGJ,CAAC,GAAK,CAAN,CAAU,CAAV,CAAcG,EAAE,CAAGL,GAApC,CACA,GAAIO,KAAI,CAAG,GAAIN,KAAJ,CAASD,GAAG,CAACQ,OAAJ,GAAgB,GAAKF,UAA9B,CAAX,CAEAR,QAAQ,CAACW,SAAT,CAAmB,CAAnB,CAAsB,CAAtB,CAAyBxB,KAAzB,CAAgCC,MAAhC,EAEAY,QAAQ,CAACY,IAAT,CAAgB,sBAAhB,CACAZ,QAAQ,CAACa,SAAT,CAAqB,MAArB,CACAb,QAAQ,CAACc,SAAT,CAAqB,QAArB,CACAd,QAAQ,CAACe,QAAT,CAAkBhC,YAAY,CAAC0B,IAAD,CAA9B,CAAsCtB,KAAK,CAAG,CAA9C,CAAiD,EAAjD,EAEA,GAAIiB,CAAC,EAAIV,GAAT,CAAc,CACZsB,aAAa,CAACX,KAAD,CAAb,CACA,MAAKY,QAAL,CAAc,CAAEC,SAAS,CAAE,KAAb,CAAd,EACA,GAAMC,MAAK,CAAGC,QAAQ,CAACC,sBAAT,CAAgC,MAAhC,EAAwC,CAAxC,CAAd,CACAF,KAAK,CAACG,SAAN,CAAkB,EAAlB,CACA,OACD,CAED/B,IAAI,CAACgC,OAAL,CAAa,SAAAC,GAAG,CAAI,CAClB,GAAQC,KAAR,CAA4BD,GAA5B,CAAQC,IAAR,CAAc9B,SAAd,CAA4B6B,GAA5B,CAAc7B,SAAd,CACA,MAAK+B,OAAL,CAAaD,IAAb,CAAmB9B,SAAS,CAACS,CAAD,CAA5B,EACD,CAHD,EAKAA,CAAC,EAAI,EAAL,CACD,CA3BsB,CA2BpB,IA3BoB,CAAvB,CA4BD,CA9Ga,OAgHdsB,OAhHc,CAgHJ,SAACF,GAAD,CAAMG,GAAN,CAAc,CACtB,GAAQC,aAAR,CAAsCD,GAAtC,CAAQC,YAAR,CAAsBC,WAAtB,CAAsCF,GAAtC,CAAsBE,WAAtB,CAEA,GAAI,CAACD,YAAD,EAAiB,CAACC,WAAtB,CAAmC,OAEnC,GAAQC,QAAR,CAAoBN,GAApB,CAAQM,OAAR,CACA,GAAMC,eAAc,CAAGD,OAAO,CAACE,KAAR,CAAc,MAAd,EAAsBC,IAAtB,CAA2B,EAA3B,CAAvB,CAEA,cAAiC,MAAKhC,GAAtC,CAAQiC,UAAR,WAAQA,UAAR,CAAoBlC,QAApB,WAAoBA,QAApB,CACA,GAAMmC,GAAE,CAAGD,UAAU,CAAC,CAACN,YAAD,CAAeC,WAAf,CAAD,CAArB,CAEA7B,QAAQ,CAACa,SAAT,CAAqB,MAAKuB,KAAL,CAAWL,cAAX,CAArB,CACA/B,QAAQ,CAACqC,SAAT,GACArC,QAAQ,CAACsC,GAAT,CAAaH,EAAE,CAAC,CAAD,CAAf,CAAoBA,EAAE,CAAC,CAAD,CAAtB,CAA2B,CAA3B,CAA8B,CAA9B,CAAiC,EAAII,IAAI,CAACC,EAA1C,EACAxC,QAAQ,CAACyC,IAAT,GAEAzC,QAAQ,CAACY,IAAT,CAAgB,sBAAhB,CACAZ,QAAQ,CAACc,SAAT,CAAqB,QAArB,CACAd,QAAQ,CAACe,QAAT,CAAkBgB,cAAlB,CAAkCI,EAAE,CAAC,CAAD,CAApC,CAAyCA,EAAE,CAAC,CAAD,CAAF,CAAQ,EAAjD,EACD,CAnIa,OAqJdO,WArJc,CAqJA,SAAAC,IAAI,CAAI,CACpB,GAAMT,WAAU,CAAG3D,cAAc,GAC9BqE,KADgB,CACV,GADU,EAEhBC,SAFgB,CAEN,CAAC1D,KAAK,CAAG,CAAT,CAAYC,MAAM,CAAG,CAArB,CAFM,EAGhB0D,SAHgB,CAGN,GAHM,CAAnB,CAKA,GAAMC,UAAS,CAAGvE,YAAY,EAA9B,CAEA,GAAMwE,OAAM,CAAGrE,QAAQ,CAAC,MAAKsE,MAAL,CAAYC,OAAb,CAAR,CACZC,IADY,CACP,OADO,CACEhE,KADF,EAEZgE,IAFY,CAEP,QAFO,CAEG/D,MAFH,CAAf,CAIA,GAAMgE,QAAO,CAAGzE,QAAQ,CAAC,MAAK0E,QAAL,CAAcH,OAAf,CAAR,CACbC,IADa,CACR,OADQ,CACChE,KADD,EAEbgE,IAFa,CAER,QAFQ,CAEE/D,MAFF,CAAhB,CAIA,GAAMkE,QAAO,CAAGN,MAAM,CAACO,IAAP,GAAcC,UAAd,CAAyB,IAAzB,CAAhB,CACA,GAAMxD,SAAQ,CAAGoD,OAAO,CAACG,IAAR,GAAeC,UAAf,CAA0B,IAA1B,CAAjB,CAEA,GAAIC,KAAI,CAAGhF,OAAO,GACfyD,UADQ,CACGA,UADH,EAERoB,OAFQ,CAEAA,OAFA,CAAX,CAIAX,IAAI,CAACpB,OAAL,CAAa,SAAAmC,GAAG,CAAI,CAClBJ,OAAO,CAACzC,SAAR,CAAoB,SAApB,CACAyC,OAAO,CAACK,WAAR,CAAsB,MAAtB,CACAL,OAAO,CAACM,WAAR,CAAsB,GAAtB,CACAN,OAAO,CAACjB,SAAR,GACAoB,IAAI,CAACC,GAAD,CAAJ,CACAJ,OAAO,CAACb,IAAR,GACAa,OAAO,CAACO,MAAR,GAEAP,OAAO,CAACK,WAAR,CAAsB,0BAAtB,CACAL,OAAO,CAACjB,SAAR,GACAoB,IAAI,CAACV,SAAS,EAAV,CAAJ,CACAO,OAAO,CAACQ,SAAR,CAAoB,GAApB,CACAR,OAAO,CAACO,MAAR,GAEAP,OAAO,CAACjB,SAAR,GACAiB,OAAO,CAACQ,SAAR,CAAoB,GAApB,CACAL,IAAI,CAACV,SAAS,CAACgB,OAAV,EAAD,CAAJ,CACAT,OAAO,CAACO,MAAR,GACD,CAnBD,EAqBA,MAAK5D,GAAL,CAAW,CACTiC,UAAU,CAAEA,UADH,CAETa,SAAS,CAAEA,SAFF,CAGTO,OAAO,CAAEA,OAHA,CAITtD,QAAQ,CAAEA,QAJD,CAAX,CAMD,CAvMa,CAEZ,MAAKgE,KAAL,CAAa,CACXC,SAAS,CAAE,KADA,CAEX/C,SAAS,CAAE,KAFA,CAAb,CAIA,MAAKjB,GAAL,CAAW,IAAX,CACA,MAAKmC,KAAL,CAAavD,OAAO,CAACqF,YAAR,CAAqBtF,gBAArB,CAAb,CACA,MAAKqE,MAAL,cAAc/E,KAAK,CAACiG,SAAN,EAAd,CACA,MAAKd,QAAL,cAAgBnF,KAAK,CAACiG,SAAN,EAAhB,CATY,aAUb,C,sDAED,4BAAoB,iBAClB/F,KAAK,CACFgG,GADH,CACOpF,aADP,EAEGqF,IAFH,CAEQ,SAAAC,GAAG,CAAI,CACX,GAAQ/E,KAAR,CAAiB+E,GAAjB,CAAQ/E,IAAR,CACA,GAAMoD,KAAI,CAAGrE,OAAO,CAACiB,IAAD,CAAOA,IAAI,CAACgF,OAAL,CAAaC,SAApB,CAAP,CAAsCC,QAAnD,CACA,MAAI,CAAC/B,WAAL,CAAiBC,IAAjB,EACD,CANH,EAOG+B,KAPH,CAOS,SAAAC,CAAC,CAAI,CACVC,OAAO,CAACC,GAAR,CAAY,wBAAZ,CAAsCF,CAAC,CAACG,OAAxC,EACD,CATH,EAUD,C,kCAED,4BAAmBC,SAAnB,CAA8BC,SAA9B,CAAyCC,QAAzC,CAAmD,iBACjD,GAAIF,SAAS,CAACG,OAAV,GAAsB,KAAKpF,KAAL,CAAWoF,OAArC,CAA8C,CAC5C,0BAMI,KAAKpF,KAAL,CAAWC,YANf,CACEoF,QADF,uBACEA,QADF,CAEEC,SAFF,uBAEEA,SAFF,CAGEC,SAHF,uBAGEA,SAHF,CAIEC,QAJF,uBAIEA,QAJF,CAKEzF,QALF,uBAKEA,QALF,CAOA,GAAM0F,QAAO,CAAG1F,QAAQ,CAAG,EAA3B,CAEA,KAAKoB,QAAL,CAAc,CACZgD,SAAS,CAAE,IADC,CAAd,EAIA,GAAMuB,KAAI,CAAG,KAAK1F,KAAL,CAAWoF,OAAX,CAAmBjF,GAAnB,CAAuB,SAAAuB,GAAG,CAAI,CACzC,GAAQiE,MAAR,CAAkBjE,GAAlB,CAAQiE,KAAR,CACA,GAAMC,IAAG,gBAAWzG,sBAAX,aAAqCwG,KAArC,aAA8CN,QAA9C,aAA0DC,SAA1D,aAAuEC,SAAvE,aAAoFE,OAApF,qBAAuGrG,WAAvG,CAAT,CAEA,MAAOd,MAAK,CAACgG,GAAN,CAAUsB,GAAV,CAAP,CACD,CALY,CAAb,CAOAC,OAAO,CAACC,GAAR,CAAYJ,IAAZ,EACGnB,IADH,CACQ,SAAAC,GAAG,CAAI,CACX,GAAMuB,IAAG,CAAGvB,GAAG,CAACrE,GAAJ,CAAQ,SAAAuB,GAAG,QAAIA,IAAG,CAACjC,IAAR,EAAX,CAAZ,CACA,MAAI,CAAC0B,QAAL,CAAc,CACZgD,SAAS,CAAE,KADC,CAEZ/C,SAAS,CAAE,IAFC,CAAd,EAKA,GAAI,CAAC8D,SAAS,CAAC9D,SAAf,CAA0B,CACxB,MAAI,CAAC5B,KAAL,CAAWuG,GAAX,EACD,CAFD,IAEO,CACL,GAAM1E,MAAK,CAAGC,QAAQ,CAACC,sBAAT,CAAgC,MAAhC,EAAwC,CAAxC,CAAd,CACAF,KAAK,CAACG,SAAN,CACE,gFADF,CAED,CACF,CAfH,EAgBGoD,KAhBH,CAgBS,SAAAC,CAAC,CAAI,CACVC,OAAO,CAACC,GAAR,CAAY,qCAAZ,CAAmDF,CAAC,CAACG,OAArD,EACD,CAlBH,EAmBD,CACF,C,sBAkED,iBAAS,CACP,GAAQb,UAAR,CAAsB,KAAKD,KAA3B,CAAQC,SAAR,CACA,mBACE,aAAK,SAAS,CAAC,SAAf,WACGA,SAAS,cACR,YAAK,SAAS,CAAC,SAAf,uBACE,KAAC,IAAD,EAAM,GAAG,CAAC,YAAV,CAAuB,IAAI,CAAC,OAA5B,EADF,EADQ,CAIN,IALN,cAME,eAAQ,SAAS,CAAC,KAAlB,CAAwB,GAAG,CAAE,KAAKhB,MAAlC,EANF,cAOE,eAAQ,SAAS,CAAC,OAAlB,CAA0B,GAAG,CAAE,KAAKI,QAApC,EAPF,cAQE,YAAK,SAAS,CAAC,MAAf,EARF,GADF,CAYD,C,sBApJoBlF,S,EA2MvB,cAAekB,SAAf"},"metadata":{},"sourceType":"module"}