{"ast":null,"code":"import _toConsumableArray from\"/Users/mac/starlink/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/mac/starlink/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"/Users/mac/starlink/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/mac/starlink/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/mac/starlink/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/mac/starlink/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{Row,Col}from'antd';import axios from\"axios\";import WorldMap from'./WorldMap';import SatSetting from'./SatSetting';import SatelliteList from'./SatelliteList';import{SAT_API_KEY,BASE_URL,NEARBY_SATELLITE,STARLINK_CATEGORY}from\"../constants\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Main=/*#__PURE__*/function(_Component){_inherits(Main,_Component);var _super=_createSuper(Main);function Main(){var _this;_classCallCheck(this,Main);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={setting:{},satInfo:{},satList:[],isLoadingList:false};_this.showNearbySatellite=function(setting){console.log('show nearby');_this.setState({setting:setting});_this.fetchSatellite(setting);};_this.fetchSatellite=function(setting){console.log(\"fetching\");var latitude=setting.latitude,longitude=setting.longitude,elevation=setting.elevation,altitude=setting.altitude;var url=\"\".concat(BASE_URL,\"/\").concat(NEARBY_SATELLITE,\"/\").concat(latitude,\"/\").concat(longitude,\"/\").concat(elevation,\"/\").concat(altitude,\"/\").concat(STARLINK_CATEGORY,\"/&apiKey=\").concat(SAT_API_KEY);_this.setState({isLoadingList:true});axios.get(url).then(function(res){console.log(res.data);_this.setState({satInfo:res.data,isLoadingList:false});}).catch(function(error){_this.setState({isLoadingList:true});console.log('err in fetch satellite -> ',error);});};_this.showMap=function(selected){_this.setState(function(preState){return _objectSpread(_objectSpread({},preState),{},{satList:_toConsumableArray(selected)});});};return _this;}_createClass(Main,[{key:\"render\",value:function render(){var _this$state=this.state,satInfo=_this$state.satInfo,isLoadingList=_this$state.isLoadingList,satList=_this$state.satList,setting=_this$state.setting;return/*#__PURE__*/_jsxs(Row,{className:\"main\",children:[/*#__PURE__*/_jsxs(Col,{span:8,className:\"left-side\",children:[/*#__PURE__*/_jsx(SatSetting,{onShow:this.showNearbySatellite}),/*#__PURE__*/_jsx(SatelliteList,{satInfo:satInfo,isLoad:isLoadingList,onShowMap:this.showMap})]}),/*#__PURE__*/_jsx(Col,{span:16,className:\"right-side\",children:/*#__PURE__*/_jsx(WorldMap,{satData:satList,observerData:setting})})]});}}]);return Main;}(Component);export default Main;","map":{"version":3,"names":["React","Component","Row","Col","axios","WorldMap","SatSetting","SatelliteList","SAT_API_KEY","BASE_URL","NEARBY_SATELLITE","STARLINK_CATEGORY","Main","state","setting","satInfo","satList","isLoadingList","showNearbySatellite","console","log","setState","fetchSatellite","latitude","longitude","elevation","altitude","url","get","then","res","data","catch","error","showMap","selected","preState"],"sources":["/Users/mac/starlink/src/components/Main.js"],"sourcesContent":["import React, {Component} from 'react';\nimport { Row, Col } from 'antd';\nimport axios from \"axios\";\nimport WorldMap from './WorldMap';\nimport SatSetting from './SatSetting';\nimport SatelliteList from './SatelliteList';\nimport { SAT_API_KEY, BASE_URL, NEARBY_SATELLITE, STARLINK_CATEGORY } from \"../constants\";\n\nclass Main extends Component {\n    state = {\n        setting: {},\n        satInfo: {},\n        satList: [],\n        isLoadingList: false\n    }\n\n    showNearbySatellite = (setting) => {\n        console.log('show nearby')\n        this.setState({\n            setting: setting\n        })\n        this.fetchSatellite(setting);\n    }\n\n    fetchSatellite = (setting) => {\n        console.log(\"fetching\")\n        const { latitude, longitude, elevation, altitude } = setting;\n        const url = `${BASE_URL}/${NEARBY_SATELLITE}/${latitude}/${longitude}/${elevation}/${altitude}/${STARLINK_CATEGORY}/&apiKey=${SAT_API_KEY}`;\n\n        this.setState({\n            isLoadingList: true\n        });\n\n        axios.get(url)\n            .then( res => {\n                console.log(res.data);\n                this.setState({\n                    satInfo: res.data,\n                    isLoadingList: false\n                })\n            })\n            .catch( error => {\n                this.setState({\n                    isLoadingList: true\n                });\n                console.log('err in fetch satellite -> ', error);\n            })\n    }\n\n    showMap = (selected) => {\n        this.setState(preState => ({\n            ...preState,\n            satList: [...selected]\n        }))\n    }\n\n\n    render() {\n        const { satInfo, isLoadingList, satList, setting } = this.state;\n\n        return (\n            <Row className='main'>\n                <Col span={8} className=\"left-side\">\n                    <SatSetting onShow={this.showNearbySatellite} />\n                    <SatelliteList satInfo={satInfo}\n                                   isLoad={isLoadingList}\n                                   onShowMap={this.showMap}\n                    />\n                </Col>\n                <Col span={16} className=\"right-side\">\n                <WorldMap satData={satList} observerData={setting} />\n                </Col>\n            </Row>\n        );\n    }\n}\n\nexport default Main;\n"],"mappings":"6mBAAA,MAAOA,MAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,OAASC,GAAT,CAAcC,GAAd,KAAyB,MAAzB,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAOC,SAAP,KAAqB,YAArB,CACA,MAAOC,WAAP,KAAuB,cAAvB,CACA,MAAOC,cAAP,KAA0B,iBAA1B,CACA,OAASC,WAAT,CAAsBC,QAAtB,CAAgCC,gBAAhC,CAAkDC,iBAAlD,KAA2E,cAA3E,C,2FAEMC,K,mTACFC,K,CAAQ,CACJC,OAAO,CAAE,EADL,CAEJC,OAAO,CAAE,EAFL,CAGJC,OAAO,CAAE,EAHL,CAIJC,aAAa,CAAE,KAJX,C,OAORC,mB,CAAsB,SAACJ,OAAD,CAAa,CAC/BK,OAAO,CAACC,GAAR,CAAY,aAAZ,EACA,MAAKC,QAAL,CAAc,CACVP,OAAO,CAAEA,OADC,CAAd,EAGA,MAAKQ,cAAL,CAAoBR,OAApB,EACH,C,OAEDQ,c,CAAiB,SAACR,OAAD,CAAa,CAC1BK,OAAO,CAACC,GAAR,CAAY,UAAZ,EACA,GAAQG,SAAR,CAAqDT,OAArD,CAAQS,QAAR,CAAkBC,SAAlB,CAAqDV,OAArD,CAAkBU,SAAlB,CAA6BC,SAA7B,CAAqDX,OAArD,CAA6BW,SAA7B,CAAwCC,QAAxC,CAAqDZ,OAArD,CAAwCY,QAAxC,CACA,GAAMC,IAAG,WAAMlB,QAAN,aAAkBC,gBAAlB,aAAsCa,QAAtC,aAAkDC,SAAlD,aAA+DC,SAA/D,aAA4EC,QAA5E,aAAwFf,iBAAxF,qBAAqHH,WAArH,CAAT,CAEA,MAAKa,QAAL,CAAc,CACVJ,aAAa,CAAE,IADL,CAAd,EAIAb,KAAK,CAACwB,GAAN,CAAUD,GAAV,EACKE,IADL,CACW,SAAAC,GAAG,CAAI,CACVX,OAAO,CAACC,GAAR,CAAYU,GAAG,CAACC,IAAhB,EACA,MAAKV,QAAL,CAAc,CACVN,OAAO,CAAEe,GAAG,CAACC,IADH,CAEVd,aAAa,CAAE,KAFL,CAAd,EAIH,CAPL,EAQKe,KARL,CAQY,SAAAC,KAAK,CAAI,CACb,MAAKZ,QAAL,CAAc,CACVJ,aAAa,CAAE,IADL,CAAd,EAGAE,OAAO,CAACC,GAAR,CAAY,4BAAZ,CAA0Ca,KAA1C,EACH,CAbL,EAcH,C,OAEDC,O,CAAU,SAACC,QAAD,CAAc,CACpB,MAAKd,QAAL,CAAc,SAAAe,QAAQ,wCACfA,QADe,MAElBpB,OAAO,oBAAMmB,QAAN,CAFW,IAAtB,EAIH,C,sDAGD,iBAAS,CACL,gBAAqD,KAAKtB,KAA1D,CAAQE,OAAR,aAAQA,OAAR,CAAiBE,aAAjB,aAAiBA,aAAjB,CAAgCD,OAAhC,aAAgCA,OAAhC,CAAyCF,OAAzC,aAAyCA,OAAzC,CAEA,mBACI,MAAC,GAAD,EAAK,SAAS,CAAC,MAAf,wBACI,MAAC,GAAD,EAAK,IAAI,CAAE,CAAX,CAAc,SAAS,CAAC,WAAxB,wBACI,KAAC,UAAD,EAAY,MAAM,CAAE,KAAKI,mBAAzB,EADJ,cAEI,KAAC,aAAD,EAAe,OAAO,CAAEH,OAAxB,CACe,MAAM,CAAEE,aADvB,CAEe,SAAS,CAAE,KAAKiB,OAF/B,EAFJ,GADJ,cAQI,KAAC,GAAD,EAAK,IAAI,CAAE,EAAX,CAAe,SAAS,CAAC,YAAzB,uBACA,KAAC,QAAD,EAAU,OAAO,CAAElB,OAAnB,CAA4B,YAAY,CAAEF,OAA1C,EADA,EARJ,GADJ,CAcH,C,kBAlEcb,S,EAqEnB,cAAeW,KAAf"},"metadata":{},"sourceType":"module"}